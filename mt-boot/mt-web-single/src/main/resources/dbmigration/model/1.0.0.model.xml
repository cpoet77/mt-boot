<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<migration xmlns="http://ebean-orm.github.io/xml/ns/dbmigration">
    <changeSet type="apply">
        <createTable name="mt_company" identityType="external" pkName="pk_mt_company">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="name" type="varchar(98)" notnull="true" unique="uq_mt_company_name"/>
            <column name="logo" type="varchar(300)"/>
            <column name="principal" type="varchar(32)" notnull="true"/>
            <column name="mobile" type="varchar(35)" notnull="true"/>
            <column name="telephone" type="varchar(35)"/>
            <column name="email" type="varchar(99)"/>
            <column name="address" type="varchar"/>
            <column name="description" type="CLOB"/>
            <column name="ext01" type="BLOB"/>
            <column name="ext02" type="TEXT"/>
            <column name="ext03" type="TEXT"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_datasource" identityType="external" pkName="pk_mt_datasource">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="name" type="varchar" notnull="true" unique="uq_mt_datasource_name"/>
            <column name="group_id" type="bigint" notnull="true"/>
            <column name="url" type="varchar(320)" notnull="true"/>
            <column name="username" type="varchar(48)" notnull="true"/>
            <column name="password" type="varchar(128)" notnull="true"/>
            <column name="driver_name" type="varchar(68)" notnull="true"/>
            <column name="type" type="varchar(1)" notnull="true" checkConstraint="check ( type in ('1','2','3','4'))" checkConstraintName="ck_mt_datasource_type"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_datasource_group" identityType="external" pkName="pk_mt_datasource_group">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="name" type="varchar" notnull="true" unique="uq_mt_datasource_group_name"/>
            <column name="description" type="TEXT"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_group" identityType="external" pkName="pk_mt_group">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_group_staff" identityType="external" pkName="pk_mt_group_staff">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="group_id" type="bigint"/>
            <column name="staff_id" type="bigint"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_login_log" identityType="external" pkName="pk_mt_login_log">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_operator_log" identityType="external" pkName="pk_mt_operator_log">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_option" identityType="external" pkName="pk_mt_option">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_permission" identityType="external" pkName="pk_mt_permission">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_role" identityType="external" pkName="pk_mt_role">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_role_permission" identityType="external" pkName="pk_mt_role_permission">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="role_id" type="bigint"/>
            <column name="permission_id" type="bigint"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_staff" identityType="external" pkName="pk_mt_staff">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="staff_name" type="varchar"/>
            <column name="account" type="varchar"/>
            <column name="email" type="varchar"/>
            <column name="avatar" type="varchar"/>
            <column name="mobile" type="varchar"/>
            <column name="password" type="varchar"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_staff_role" identityType="external" pkName="pk_mt_staff_role">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="tenant_id" type="bigint" notnull="true"/>
            <column name="staff_id" type="bigint"/>
            <column name="role_id" type="bigint"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
        </createTable>
        <createTable name="mt_tenant" identityType="external" pkName="pk_mt_tenant">
            <column name="id" type="bigint" primaryKey="true" identity="true"/>
            <column name="start_time" type="localdatetime" notnull="true"/>
            <column name="end_time" type="localdatetime" notnull="true"/>
            <column name="leases" type="bigint" notnull="true"/>
            <column name="company_id" type="bigint"/>
            <column name="ds_type" type="varchar(3)" checkConstraint="check ( ds_type in ('1','2','128'))" checkConstraintName="ck_mt_tenant_ds_type"/>
            <column name="status" type="varchar(1)" checkConstraint="check ( status in ('0','1','2'))" checkConstraintName="ck_mt_tenant_status"/>
            <column name="version" type="integer" notnull="true"/>
            <column name="last_mod_staff" type="bigint" notnull="true"/>
            <column name="deleted" type="boolean" defaultValue="false" notnull="true"/>
            <column name="created_time" type="localdatetime" notnull="true"/>
            <column name="updated_time" type="localdatetime" notnull="true"/>
        </createTable>
    </changeSet>
</migration>